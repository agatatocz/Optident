(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{198:function(e,t,n){e.exports=n(356)},203:function(e,t,n){},356:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),c=n.n(o),i=(n(203),n(7)),l=n(35),s=n(36),u=n(399),m=n(188),d=Object(m.a)({palette:{primary:{main:"#56CCF2"},secondary:{main:"#27AE60"}}}),p=n(34),f=n(173),E=n(17),b=n(8);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O,y={positions:[],sum:0},v=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=e.findIndex((function(e){return e.id===t}));return a>-1&&(e[a].count=n?e[a].count+1:e[a].count-1),e[a].count<0&&(e[a].count=0),e},j=function(e){var t=[];return e.forEach((function(e){return t.push(e.count*e.price)})),t.length?t.reduce((function(e,t){return e+t})):0},w=function(e,t,n){var a=e.findIndex((function(e){return e.id===t}));return a>-1&&(e[a].editing=n),e},C=function(e,t){var n=e.findIndex((function(e){return e.id===t.id}));return n>-1&&(e[n]=t),e},N={loggedIn:!1},S=[],P=[],I={},T=Object(p.c)({priceList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSITIONS":return h({},e,{positions:t.payload});case"INCREMENT_POSITION":return h({},e,{positions:O=v(Object(E.a)(e.positions),t.payload.id)});case"DECREMENT_POSITION":return h({},e,{positions:O=v(Object(E.a)(e.positions),t.payload.id,!1)});case"COUNT_SUM":var n=j(Object(E.a)(e.positions));return h({},e,{sum:n});case"SET_EDITING":return h({},e,{positions:O=w(Object(E.a)(e.positions),t.payload.position.id,t.payload.editing)});case"DELETE_POSITION":return h({},e,{positions:O=Object(E.a)(e.positions).filter((function(e){return e.id!==t.payload.id}))});case"UPDATE_POSITION":return h({},e,{positions:O=C(Object(E.a)(e.positions),t.payload)});case"CREATE_POSITION":return(O=Object(E.a)(e.positions)).push(h({},t.payload,{count:0})),h({},e,{positions:O});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return{loggedIn:!0};case"LOGOUT":return{loggedIn:!1};default:return e}},rates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RATES":return t.payload;case"ADD_RATE":var n=Object(E.a)(e);return n.push(t.payload),n;default:return e}},receipts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RECEIPTS":return t.payload;default:return e}},statistics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_STATISTICS":return t.payload;default:return e}}}),k=[f.a],z=Object(p.e)(T,{},Object(p.d)(p.a.apply(void 0,k),(function(e){return e}))),D=n(20),x=n.n(D);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(){return{type:"COUNT_SUM"}},F=function(e,t){return{type:"SET_EDITING",payload:{position:e,editing:t}}},W=function(){return function(e){return x.a.get("/api/Receipts").then((function(t){e({type:"FETCH_RECEIPTS",payload:t.data})})).catch((function(e){alert(e)}))}},_=Object(i.b)((function(e){return{loggedIn:e.user.loggedIn}}),{fetchPositions:function(){return function(e){return x.a.get("/api/Positions").then((function(t){var n;e({type:"FETCH_POSITIONS",payload:(n=t.data,n.map((function(e){return A({},e,{count:0})})))})})).catch((function(e){alert(e)}))}},fetchRates:function(){return function(e){return x.a.get("/api/Rates").then((function(t){e({type:"FETCH_RATES",payload:t.data})})).catch((function(e){alert(e)}))}},fetchReceipts:W,fetchStatistics:function(){return function(e){return x.a.get("/api/Stats").then((function(t){e({type:"FETCH_STATISTICS",payload:t.data})})).catch((function(e){alert(e)}))}}})((function(e){var t=e.loggedIn,n=e.fetchPositions,r=e.fetchRates,o=e.fetchReceipts,c=e.fetchStatistics;return Object(a.useEffect)((function(){n(),r(),t&&(o(),c())}),[t,n,r,o,c]),null})),B=n(2),H=Object(i.b)((function(e){return{loggedIn:e.user.loggedIn}}))((function(e){var t=e.loggedIn,n=Object(B.a)(e,["loggedIn"]);return t?r.a.createElement(s.b,n):r.a.createElement(s.a,{to:pt.empty})})),U=n(383),M=n(388),q=n(389),G=n(9),J=n(387),Y=n(402),Z=n(187),V=n(23),$=Object(U.a)({form:{padding:"0.5em",display:"flex",alignItems:"center",flexDirection:"column"},textField:{marginTop:"0.2em"},helperText:{marginBottom:"0.3em"},button:{color:"white",fontWeight:"bold",marginTop:"0.2em"}}),K=n(400),Q=n(386),X=function(e){var t=e.label,n=e.name,a=Object(B.a)(e,["label","name"]),o=$();return r.a.createElement(r.a.Fragment,null,r.a.createElement(K.a,{variant:"outlined",label:t,name:n,type:a.type,value:a.values[n],onChange:a.handleChange,onBlur:a.handleBlur,className:o.textField,error:a.errors[n]&&a.touched[n]}),a.errors[n]&&a.touched[n]&&r.a.createElement(Q.a,{className:o.helperText},a.errors[n]))},ee={email:"",password:""},te=V.object().shape({email:V.string().email().required("Prosz\u0119 wpisa\u0107 email"),password:V.string().required("Prosz\u0119 wpisa\u0107 has\u0142o")}),ne=Object(p.d)(s.f,Object(i.b)(null,{logIn:function(e,t){return function(n){return x.a.post("/api/Users/CheckUser",{email:e,password:t}).then((function(){n({type:"LOGIN"})})).catch((function(e){alert("B\u0142\u0119dne dane logowania.")}))}}}))((function(e){var t=e.logIn,n=e.history,a=$();return r.a.createElement(Z.a,{initialValues:ee,validationSchema:te,onSubmit:function(e){t(e.email,e.password).then(n.push(pt.priceList))},render:function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:a.form},r.a.createElement(X,Object.assign({label:"Email",name:"email",type:"email"},e)),r.a.createElement(X,Object.assign({label:"Has\u0142o",name:"password",type:"password"},e)),r.a.createElement(J.a,{type:"submit",color:"secondary",variant:"contained",className:a.button},"Zaloguj"))}})})),ae=Object(U.a)({button:{border:"1px solid #eee",marginLeft:"1.5em",color:"#eee",width:"10em",fontWeight:"bold"}}),re=function(){var e=ae(),t=r.a.useState(null),n=Object(G.a)(t,2),a=n[0],o=n[1],c=Boolean(a),i=c?"simple-popover":void 0;return r.a.createElement("div",null,r.a.createElement(J.a,{"aria-describedby":i,variant:"outlined",onClick:function(e){o(e.currentTarget)},className:e.button},"zaloguj si\u0119 jako admin"),r.a.createElement(Y.a,{id:i,open:c,anchorEl:a,onClose:function(){o(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(ne,null)))},oe=Object(U.a)({button:{border:"1px solid #eee",marginLeft:"1.5em",color:"#eee",width:"10em",fontWeight:"bold"}}),ce=Object(i.b)(null,{logOut:function(){return{type:"LOGOUT"}}})((function(e){var t=e.logOut,n=oe();return r.a.createElement(J.a,{className:n.button,onClick:t,component:l.b,to:pt.priceList},"Wyloguj")})),ie=Object(U.a)({header:{padding:"1em",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},logo:{color:"white",fontSize:"2em",fontWeight:"bold"}}),le=Object(i.b)((function(e){return{loggedIn:e.user.loggedIn}}))((function(e){var t=e.loggedIn,n=ie();return r.a.createElement(M.a,{className:n.header,position:"relative"},r.a.createElement(q.a,{className:n.logo},"Optident"),t?r.a.createElement(ce,null):r.a.createElement(re,null))})),se=n(403),ue=n(390),me=Object(i.b)((function(e){return{loggedIn:e.user.loggedIn}}))((function(e){var t=e.loggedIn,n=Object(a.useState)(0),o=Object(G.a)(n,2),c=o[0],i=o[1];Object(a.useEffect)((function(){i(0)}),[t]);return r.a.createElement(se.a,{variant:"fullWidth",value:c,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){i(t)}},r.a.createElement(ue.a,{label:"Cennik",component:l.b,to:pt.priceList}),r.a.createElement(ue.a,{label:"Opinie",component:l.b,to:pt.rates}),t&&r.a.createElement(ue.a,{label:"Rachunki",component:l.b,to:pt.receitps}),t&&r.a.createElement(ue.a,{label:"Statystyki",component:l.b,to:pt.statistics}))})),de=n(357),pe=n(396),fe=n(397),Ee=n(393),be=n(391),ge=n(392),he=n(184),Oe=n.n(he),ye=n(90),ve=n.n(ye),je=n(89),we=n.n(je),Ce=function(e){var t=e.showDescription,n=e.setShowDescription;return t?r.a.createElement(we.a,{onClick:function(){return n(!1)}}):r.a.createElement(ve.a,{onClick:function(){return n(!0)}})},Ne=n(182),Se=n.n(Ne),Pe=n(181),Ie=n.n(Pe),Te=Object(U.a)({headCell:{fontWeight:"bold",textAlign:"center"},bodyCell:{textAlign:"center"},positionCell:{display:"flex",alignItems:"center"},count:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:"1.4rem"},deleteIcon:{color:d.palette.error.dark},editIcon:{color:d.palette.primary.dark},addButton:{color:"white",margin:"0.2rem"},buttonsContainer:{width:"fit-content",margin:"0 auto",display:"flex",justifyContent:"center",flexDirection:"column",padding:"1rem"},sumText:{fontWeight:"bold"},sum:{fontWeight:"bold",color:d.palette.primary.dark,fontSize:"1.2rem",textAlign:"center"},errorMessage:{color:d.palette.error.dark,textAlign:"center"}}),ke=Object(i.b)((function(e){return{positions:e.priceList.positions}}),{incrementPosition:function(e){return{type:"INCREMENT_POSITION",payload:e}},decrementPosition:function(e){return{type:"DECREMENT_POSITION",payload:e}},countSum:L})((function(e){var t=e.position,n=Object(B.a)(e,["position"]),a=Te();return r.a.createElement(be.a,null,r.a.createElement("div",{className:a.count},r.a.createElement(ge.a,{size:"small",onClick:function(){return function(e){n.decrementPosition(e),n.countSum()}(t)},color:"primary"},r.a.createElement(Ie.a,null)),r.a.createElement(q.a,null,t.count),r.a.createElement(ge.a,{size:"small",onClick:function(){return function(e){n.incrementPosition(e),n.countSum()}(t)},color:"primary"},r.a.createElement(Se.a,null))))})),ze=n(183),De=n.n(ze),xe=Object(i.b)(null,{deletePosition:function(e){return function(t){return x.a.delete("/api/Positions/".concat(e.id)).then((function(){t({type:"DELETE_POSITION",payload:e})})).catch((function(e){alert(e)}))}}})((function(e){var t=e.position,n=e.deletePosition,a=Te();return r.a.createElement(ge.a,{onClick:function(){window.confirm("Czy na pewno chcesz usun\u0105\u0107 us\u0142ug\u0119 ".concat(t.name,"?"))&&n(t)},size:"small"},r.a.createElement(De.a,{className:a.deleteIcon}))})),Re=Object(i.b)(null,{setEditing:F})((function(e){var t=e.position,n=e.editable,o=void 0!==n&&n,c=Object(B.a)(e,["position","editable"]),i=Te(),l=Object(a.useState)(!1),s=Object(G.a)(l,2),u=s[0],m=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,null,r.a.createElement(be.a,null,r.a.createElement("div",{className:i.positionCell},o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(ge.a,{onClick:function(){return c.setEditing(t,!0)},size:"small"},r.a.createElement(Oe.a,{className:i.editIcon})),r.a.createElement(xe,{position:t})),r.a.createElement(Ce,{showDescription:u,setShowDescription:m}),r.a.createElement(q.a,null,t.name))),r.a.createElement(be.a,{className:i.bodyCell},r.a.createElement(q.a,null,t.price," PLN")),r.a.createElement(ke,{position:t})),u&&r.a.createElement(Ee.a,null,r.a.createElement(be.a,{colSpan:3},r.a.createElement(q.a,null,t.description))))})),Ae=n(394),Le=function(){var e=Te();return r.a.createElement(Ae.a,null,r.a.createElement(Ee.a,null,r.a.createElement(be.a,{className:e.headCell},"Us\u0142uga"),r.a.createElement(be.a,{className:e.headCell},"Cena"),r.a.createElement(be.a,{className:e.headCell},"Ilo\u015b\u0107")))},Fe=function(e){var t=e.sum,n=Te();return r.a.createElement(Ee.a,null,r.a.createElement(be.a,{className:n.sumText},"\u0141\u0105czna cena:"),r.a.createElement(be.a,null),r.a.createElement(be.a,{className:n.sum},t," PLN"))},We=n(185),_e=n.n(We),Be=V.object().shape({name:V.string().required("Prosz\u0119 wpisa\u0107 nazw\u0119 us\u0142ugi"),price:V.number().required("Prosz\u0119 wpisa\u0107 cen\u0119"),description:V.string().required("Prosz\u0119 wpisa\u0107 opis")});function He(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Ue=Object(i.b)(null,{updatePosition:function(e){return function(t){return x.a.put("/api/Positions/".concat(e.id),A({},e)).then((function(){t({type:"UPDATE_POSITION",payload:e})})).catch((function(e){alert(e)}))}},countSum:L,setEditing:F})((function(e){var t=e.position,n=Object(B.a)(e,["position"]),o=Te(),c=Object(a.useState)(t.name),i=Object(G.a)(c,2),l=i[0],s=i[1],u=Object(a.useState)(t.price),m=Object(G.a)(u,2),d=m[0],p=m[1],f=Object(a.useState)(t.description),E=Object(G.a)(f,2),g=E[0],h=E[1],O=Object(a.useState)(""),y=Object(G.a)(O,2),v=y[0],j=y[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,null,r.a.createElement(be.a,null,r.a.createElement("div",{className:o.positionCell},r.a.createElement(ge.a,{onClick:function(){Be.validate({name:l,price:d,description:g}).then((function(){l!==t.name||d!==t.price||g!==t.description?n.updatePosition(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?He(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):He(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{name:l,price:d,description:g,editing:!1})).then((function(){return n.countSum()})):n.setEditing(t,!1)})).catch((function(e){return j(e.message)}))},size:"small"},r.a.createElement(_e.a,{className:o.editIcon})),r.a.createElement(xe,{position:t}),r.a.createElement(K.a,{value:l,onChange:function(e){s(e.target.value)}}))),r.a.createElement(be.a,{className:o.bodyCell},r.a.createElement(K.a,{type:"number",value:d,onChange:function(e){p(e.target.value)}})),r.a.createElement(ke,{position:t})),r.a.createElement(Ee.a,null,r.a.createElement(be.a,{colSpan:3},r.a.createElement(K.a,{multiline:!0,fullWidth:!0,value:g,onChange:function(e){h(e.target.value)}}))),v?r.a.createElement(Ee.a,null,r.a.createElement(be.a,{colSpan:3,className:o.errorMessage},r.a.createElement(q.a,null,v))):null)})),Me=n(395),qe=n(186),Ge=n.n(qe),Je=Object(i.b)(null,{createPosition:function(e){return function(t){return x.a.post("/api/Positions/",A({},e)).then((function(e){t({type:"CREATE_POSITION",payload:e.data})})).catch((function(e){alert(e)}))}}})((function(e){var t=e.hideAddPositionRow,n=e.createPosition,o=Te(),c=Object(a.useState)(""),i=Object(G.a)(c,2),l=i[0],s=i[1],u=Object(a.useState)(""),m=Object(G.a)(u,2),d=m[0],p=m[1],f=Object(a.useState)(""),E=Object(G.a)(f,2),b=E[0],g=E[1],h=Object(a.useState)(""),O=Object(G.a)(h,2),y=O[0],v=O[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,null,r.a.createElement(be.a,null,r.a.createElement(K.a,{fullWidth:!0,placeholder:"Nazwa us\u0142ugi",value:l,onChange:function(e){s(e.target.value)}})),r.a.createElement(be.a,{className:o.bodyCell},r.a.createElement(K.a,{placeholder:"Cena",type:"number",value:d,onChange:function(e){p(e.target.value)}})),r.a.createElement(be.a,null,r.a.createElement(Me.a,{variant:"extended",color:"secondary",className:o.addButton,onClick:function(){Be.validate({name:l,price:d,description:b}).then((function(){n({name:l,price:d,description:b}),t()})).catch((function(e){return v(e.message)}))}},r.a.createElement(Ge.a,null),"Dodaj"))),r.a.createElement(Ee.a,null,r.a.createElement(be.a,{colSpan:3},r.a.createElement(K.a,{placeholder:"Opis",multiline:!0,fullWidth:!0,value:b,onChange:function(e){g(e.target.value)}}))),y?r.a.createElement(Ee.a,null,r.a.createElement(be.a,{colSpan:3,className:o.errorMessage},r.a.createElement(q.a,null,y))):null)})),Ye=function(e){var t=e.showAddPositionRow,n=e.setShowAddPositionRow,a=Te();return r.a.createElement(J.a,{onClick:function(){n(!t)},variant:"contained",color:t?"default":"secondary",className:a.addButton},t?"Anuluj":"Dodaj us\u0142ug\u0119")},Ze=Object(i.b)((function(e){return{positions:e.priceList.positions,sum:e.priceList.sum}}),{createReceipt:function(e){return function(t){return x.a.post("/api/Receipts",e).then((function(){t(W()),alert('Pomy\u015blnie utworzono nowy rachunek. Mo\u017cesz zobaczy\u0107 go w zak\u0142adce "Rachunki".')})).catch((function(e){alert(e)}))}}})((function(e){var t=e.positions,n=e.sum,a=e.createReceipt,o=Te();return r.a.createElement("div",{className:o.addButtonContainer},r.a.createElement(J.a,{onClick:function(){var e=function(){var e=[];return t.forEach((function(t){if(t.count>0)for(var n=0;n<t.count;n++)e.push(t.id)})),e.toString()}(),r=(new Date).toLocaleString();a({date:r,sum:n,positions:e})},variant:"contained",color:"primary",className:o.addButton,disabled:!n},"Wystaw rachunek"))})),Ve=Object(i.b)((function(e){return{positions:e.priceList.positions,sum:e.priceList.sum,loggedIn:e.user.loggedIn}}))((function(e){var t=e.positions,n=e.sum,o=e.loggedIn,c=(Object(B.a)(e,["positions","sum","loggedIn"]),Te()),i=Object(a.useState)(!1),l=Object(G.a)(i,2),s=l[0],u=l[1];return r.a.createElement(de.a,null,r.a.createElement(pe.a,null,r.a.createElement(Le,null),r.a.createElement(fe.a,null,t.map((function(e){return e.editing?r.a.createElement(Ue,{position:e,key:e.id}):r.a.createElement(Re,{position:e,key:e.id,editable:o})})),r.a.createElement(Fe,{sum:n}),s&&r.a.createElement(Je,{hideAddPositionRow:function(){return u(!1)}}))),o&&r.a.createElement("div",{className:c.buttonsContainer},r.a.createElement(Ye,{showAddPositionRow:s,setShowAddPositionRow:u}),r.a.createElement(Ze,null)))})),$e=n(398),Ke=n(401),Qe=n(404),Xe=n(92),et=n(93),tt=Object(U.a)({container:{display:"flex",flexDirection:"column",alignItems:"center"},button:{margin:"0.7rem 0.2rem 0.2rem"},addButton:{color:"white"},buttonsContainer:{display:"flex",justifyContent:"center",alignItems:"center"},rate:{margin:"0.5rem",backgroundColor:"rgba(86, 204, 242,0.1)",border:"1px solid #2D9CDB",borderRadius:"15px",padding:"0.7rem",width:"100%",maxWidth:"800px"},gradingField:{marginTop:"1rem",color:"grey"},email:{color:"#4F4F4F"},icon:{fontSize:"1rem",margin:"1px"}}),nt=V.object().shape({email:V.string().email().required("Prosz\u0119 wpisa\u0107 email"),grade:V.number().min(0).max(5).required("Prosz\u0119 poda\u0107 ocen\u0119 od 0 do 5"),description:V.string().required("Prosz\u0119 wpisa\u0107 opini\u0119")}),at=Object(i.b)(null,{addRate:function(e){return function(t){return x.a.post("/api/Rates",e).then((function(e){t({type:"ADD_RATE",payload:e.data})})).catch((function(e){alert(e)}))}}})((function(e){var t=e.addRate,n=e.hideForm,o=tt(),c=Object(a.useState)(""),i=Object(G.a)(c,2),l=i[0],s=i[1],u=Object(a.useState)(0),m=Object(G.a)(u,2),d=m[0],p=m[1],f=Object(a.useState)(""),E=Object(G.a)(f,2),b=E[0],g=E[1],h=Object(a.useState)(""),O=Object(G.a)(h,2),y=O[0],v=O[1],j=Object(a.useState)(!1),w=Object(G.a)(j,2),C=w[0],N=w[1];return r.a.createElement(de.a,{className:o.rate},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),N(!0),nt.validate({email:l,grade:d,description:b}).then((function(){t({email:l,grade:d,description:b}).then((function(){N(!1),n()}))})).catch((function(e){return v(e.message)}))}},r.a.createElement(K.a,{label:"Email*",value:l,type:"email",onChange:function(e){s(e.target.value)}}),r.a.createElement(Ke.a,{className:o.gradingField},r.a.createElement(q.a,{variant:"body2"},"Ocena*"),r.a.createElement(Qe.a,{name:"rate",value:d,onChange:function(e,t){p(t)},icon:r.a.createElement(Xe.a,{icon:et.a,className:o.icon})})),r.a.createElement(K.a,{label:"Opinia*",value:b,type:"text",multiline:!0,fullWidth:!0,onChange:function(e){g(e.target.value)}}),y?r.a.createElement(q.a,{color:"error"},y):null,r.a.createElement("div",{className:o.buttonsContainer},r.a.createElement(J.a,{type:"submit",color:"secondary",variant:"contained",className:"".concat(o.addButton," ").concat(o.button),disabled:C},"Zapisz"),r.a.createElement(J.a,{variant:"contained",className:o.button,onClick:n},"Anuluj"))))})),rt=function(){var e=tt(),t=Object(a.useState)(!1),n=Object(G.a)(t,2),o=n[0],c=n[1];return o?r.a.createElement(at,{hideForm:function(){return c(!1)}}):r.a.createElement(J.a,{color:"secondary",variant:"contained",className:"".concat(e.addButton," ").concat(e.button),onClick:function(){return c(!0)}},"Dodaj swoj\u0105 opini\u0119")},ot=function(e){var t=e.rate,n=tt();return r.a.createElement(de.a,{className:n.rate},r.a.createElement(q.a,{className:n.email},t.email),r.a.createElement(Qe.a,{precision:.5,value:t.grade,readOnly:!0,icon:r.a.createElement(Xe.a,{icon:et.a,className:n.icon})}),r.a.createElement(q.a,null,t.description))},ct=Object(i.b)((function(e){return{loggedIn:e.user.loggedIn,rates:e.rates}}))((function(e){var t=e.loggedIn,n=e.rates,a=tt();return r.a.createElement($e.a,{className:a.container},t||r.a.createElement(rt,null),n.map((function(e){return r.a.createElement(ot,{rate:e,key:e.id})})))})),it=Object(U.a)({headCell:{fontWeight:"bold"},icon:{float:"left"},detailsCell:{paddingLeft:"2rem"}}),lt=function(e){var t=e.positions,n=it();return t.map((function(e,t){return r.a.createElement(Ee.a,{key:t},r.a.createElement(be.a,{align:"left",className:n.detailsCell},e.name),r.a.createElement(be.a,null),r.a.createElement(be.a,{align:"center"},e.price," PLN"))}))},st=function(e){var t=e.receipt,n=it(),o=Object(a.useState)(!1),c=Object(G.a)(o,2),i=c[0],l=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(Ee.a,{onClick:function(){l(!i)}},r.a.createElement(be.a,{align:"center"},i?r.a.createElement(we.a,{className:n.icon}):r.a.createElement(ve.a,{className:n.icon}),t.id),r.a.createElement(be.a,{align:"center"},t.date),r.a.createElement(be.a,{align:"center"},t.sum," PLN")),i&&r.a.createElement(lt,{positions:t.positions}))},ut=Object(i.b)((function(e){return{receipts:e.receipts}}))((function(e){var t=e.receipts,n=it();return r.a.createElement(de.a,null,r.a.createElement(pe.a,null,r.a.createElement(Ae.a,null,r.a.createElement(Ee.a,null,r.a.createElement(be.a,{align:"center",className:n.headCell},"Numer rachunku"),r.a.createElement(be.a,{align:"center",className:n.headCell},"Data"),r.a.createElement(be.a,{align:"center",className:n.headCell},"Suma"))),r.a.createElement(fe.a,null,t.map((function(e){return r.a.createElement(st,{key:e.id,receipt:e})})))))})),mt=Object(U.a)({paper:{padding:"1rem",margin:"1rem"},weekHeader:{color:"#F2C94C"},mounthHeader:{color:"#F2994A"},yearHeader:{color:"#EB5757"}}),dt=Object(i.b)((function(e){return{statistics:e.statistics}}))((function(e){var t=e.statistics,n=mt();return r.a.createElement($e.a,null,r.a.createElement(de.a,{className:n.paper},r.a.createElement(q.a,{variant:"h4",className:n.weekHeader},"Ostatni tydzie\u0144"),r.a.createElement(q.a,null,"Przychody: ",r.a.createElement("b",null,t.cashWeek," PLN")),r.a.createElement(q.a,null,"Najcz\u0119stszy zabieg: ",r.a.createElement("b",null,t.positionWeek))),r.a.createElement(de.a,{className:n.paper},r.a.createElement(q.a,{variant:"h4",className:n.mounthHeader},"Ostatni miesi\u0105c"),r.a.createElement(q.a,null,"Przychody: ",r.a.createElement("b",null,t.cashMonth," PLN")),r.a.createElement(q.a,null,"Najcz\u0119stszy zabieg: ",r.a.createElement("b",null,t.positionMonth))),r.a.createElement(de.a,{className:n.paper},r.a.createElement(q.a,{variant:"h4",className:n.yearHeader},"Ostatni rok"),r.a.createElement(q.a,null,"Przychody: ",r.a.createElement("b",null,t.cashYear," PLN")),r.a.createElement(q.a,null,"Najcz\u0119stszy zabieg: ",r.a.createElement("b",null,t.positionYear))))})),pt={empty:"/",priceList:"/cennik",rates:"/opinie",receitps:"/rachunki",statistics:"/statystyki"},ft=function(){return r.a.createElement(i.a,{store:z},r.a.createElement(l.a,{basename:"/Optident"},r.a.createElement(u.a,{theme:d},r.a.createElement(_,null),r.a.createElement(le,null),r.a.createElement(me,null),r.a.createElement(s.b,{path:pt.priceList,component:Ve}),r.a.createElement(s.b,{path:pt.rates,component:ct}),r.a.createElement(H,{path:pt.receitps,component:ut}),r.a.createElement(H,{path:pt.statistics,component:dt}),r.a.createElement(s.a,{path:pt.empty,to:pt.priceList}))))},Et=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function bt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(ft,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Optident",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/Optident","/service-worker.js");Et?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):bt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):bt(t,e)}))}}()}},[[198,1,2]]]);
//# sourceMappingURL=main.a8a2ee0b.chunk.js.map