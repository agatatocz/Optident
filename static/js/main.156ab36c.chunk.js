(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{198:function(e,t,n){e.exports=n(356)},203:function(e,t,n){},356:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),c=n.n(o),i=(n(203),n(7)),l=n(35),s=n(36),u=n(399),m=n(188),d=Object(m.a)({palette:{primary:{main:"#56CCF2"},secondary:{main:"#27AE60"}}}),p=n(34),f=n(173),E=n(17),b=n(8);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var O,y={positions:[],sum:0},v=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=e.findIndex((function(e){return e.id===t}));return a>-1&&(e[a].count=n?e[a].count+1:e[a].count-1),e[a].count<0&&(e[a].count=0),e},j=function(e){var t=[];return e.forEach((function(e){return t.push(e.count*e.price)})),t.length?t.reduce((function(e,t){return e+t})):0},w=function(e,t,n){var a=e.findIndex((function(e){return e.id===t}));return a>-1&&(e[a].editing=n),e},C=function(e,t){var n=e.findIndex((function(e){return e.id===t.id}));return n>-1&&(e[n]=t),e},N={loggedIn:!1},S=[],P=[],I={},T=Object(p.c)({priceList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_POSITIONS":return h({},e,{positions:t.payload});case"INCREMENT_POSITION":return h({},e,{positions:O=v(Object(E.a)(e.positions),t.payload.id)});case"DECREMENT_POSITION":return h({},e,{positions:O=v(Object(E.a)(e.positions),t.payload.id,!1)});case"COUNT_SUM":var n=j(Object(E.a)(e.positions));return h({},e,{sum:n});case"SET_EDITING":return h({},e,{positions:O=w(Object(E.a)(e.positions),t.payload.position.id,t.payload.editing)});case"DELETE_POSITION":return h({},e,{positions:O=Object(E.a)(e.positions).filter((function(e){return e.id!==t.payload.id}))});case"UPDATE_POSITION":return h({},e,{positions:O=C(Object(E.a)(e.positions),t.payload)});case"CREATE_POSITION":return(O=Object(E.a)(e.positions)).push(h({},t.payload,{count:0})),h({},e,{positions:O});default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:N,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return{loggedIn:!0};case"LOGOUT":return{loggedIn:!1};default:return e}},rates:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:S,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RATES":return t.payload;case"ADD_RATE":var n=Object(E.a)(e);return n.push(t.payload),n;default:return e}},receipts:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_RECEIPTS":return t.payload;default:return e}},statistics:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:I,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_STATISTICS":return t.payload;default:return e}}}),k=[f.a],z=Object(p.e)(T,{},Object(p.d)(p.a.apply(void 0,k),(function(e){return e}))),D=n(27),x=n.n(D),R=x.a.create({baseURL:"https://dentist-ptsim-api.azurewebsites.net"});function L(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?L(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F=function(){return{type:"COUNT_SUM"}},W=function(e,t){return{type:"SET_EDITING",payload:{position:e,editing:t}}},_=function(){return function(e){return x.a.get("/api/Receipts").then((function(t){e({type:"FETCH_RECEIPTS",payload:t.data})})).catch((function(e){alert(e)}))}},B=Object(i.b)((function(e){return{loggedIn:e.user.loggedIn}}),{fetchPositions:function(){return function(e){return R.get("/api/Positions").then((function(t){var n;e({type:"FETCH_POSITIONS",payload:(n=t.data,n.map((function(e){return A({},e,{count:0})})))})})).catch((function(e){alert(e)}))}},fetchRates:function(){return function(e){return x.a.get("/api/Rates").then((function(t){e({type:"FETCH_RATES",payload:t.data})})).catch((function(e){alert(e)}))}},fetchReceipts:_,fetchStatistics:function(){return function(e){return x.a.get("/api/Stats").then((function(t){e({type:"FETCH_STATISTICS",payload:t.data})})).catch((function(e){alert(e)}))}}})((function(e){var t=e.loggedIn,n=e.fetchPositions,r=e.fetchRates,o=e.fetchReceipts,c=e.fetchStatistics;return Object(a.useEffect)((function(){n(),r(),t&&(o(),c())}),[t,n,r,o,c]),null})),H=n(2),U=Object(i.b)((function(e){return{loggedIn:e.user.loggedIn}}))((function(e){var t=e.loggedIn,n=Object(H.a)(e,["loggedIn"]);return t?r.a.createElement(s.b,n):r.a.createElement(s.a,{to:ft.empty})})),M=n(383),q=n(388),G=n(389),J=n(9),Y=n(387),Z=n(402),V=n(187),$=n(22),K=Object(M.a)({form:{padding:"0.5em",display:"flex",alignItems:"center",flexDirection:"column"},textField:{marginTop:"0.2em"},helperText:{marginBottom:"0.3em"},button:{color:"white",fontWeight:"bold",marginTop:"0.2em"}}),Q=n(400),X=n(386),ee=function(e){var t=e.label,n=e.name,a=Object(H.a)(e,["label","name"]),o=K();return r.a.createElement(r.a.Fragment,null,r.a.createElement(Q.a,{variant:"outlined",label:t,name:n,type:a.type,value:a.values[n],onChange:a.handleChange,onBlur:a.handleBlur,className:o.textField,error:a.errors[n]&&a.touched[n]}),a.errors[n]&&a.touched[n]&&r.a.createElement(X.a,{className:o.helperText},a.errors[n]))},te={email:"",password:""},ne=$.object().shape({email:$.string().email().required("Prosz\u0119 wpisa\u0107 email"),password:$.string().required("Prosz\u0119 wpisa\u0107 has\u0142o")}),ae=Object(p.d)(s.f,Object(i.b)(null,{logIn:function(e,t){return function(n){return x.a.post("/api/Users/CheckUser",{email:e,password:t}).then((function(){n({type:"LOGIN"})})).catch((function(e){alert("B\u0142\u0119dne dane logowania.")}))}}}))((function(e){var t=e.logIn,n=e.history,a=K();return r.a.createElement(V.a,{initialValues:te,validationSchema:ne,onSubmit:function(e){t(e.email,e.password).then(n.push(ft.priceList))},render:function(e){return r.a.createElement("form",{onSubmit:e.handleSubmit,className:a.form},r.a.createElement(ee,Object.assign({label:"Email",name:"email",type:"email"},e)),r.a.createElement(ee,Object.assign({label:"Has\u0142o",name:"password",type:"password"},e)),r.a.createElement(Y.a,{type:"submit",color:"secondary",variant:"contained",className:a.button},"Zaloguj"))}})})),re=Object(M.a)({button:{border:"1px solid #eee",marginLeft:"1.5em",color:"#eee",width:"10em",fontWeight:"bold"}}),oe=function(){var e=re(),t=r.a.useState(null),n=Object(J.a)(t,2),a=n[0],o=n[1],c=Boolean(a),i=c?"simple-popover":void 0;return r.a.createElement("div",null,r.a.createElement(Y.a,{"aria-describedby":i,variant:"outlined",onClick:function(e){o(e.currentTarget)},className:e.button},"zaloguj si\u0119 jako admin"),r.a.createElement(Z.a,{id:i,open:c,anchorEl:a,onClose:function(){o(null)},anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(ae,null)))},ce=Object(M.a)({button:{border:"1px solid #eee",marginLeft:"1.5em",color:"#eee",width:"10em",fontWeight:"bold"}}),ie=Object(i.b)(null,{logOut:function(){return{type:"LOGOUT"}}})((function(e){var t=e.logOut,n=ce();return r.a.createElement(Y.a,{className:n.button,onClick:t,component:l.b,to:ft.priceList},"Wyloguj")})),le=Object(M.a)({header:{padding:"1em",display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},logo:{color:"white",fontSize:"2em",fontWeight:"bold"}}),se=Object(i.b)((function(e){return{loggedIn:e.user.loggedIn}}))((function(e){var t=e.loggedIn,n=le();return r.a.createElement(q.a,{className:n.header,position:"relative"},r.a.createElement(G.a,{className:n.logo},"Optident"),t?r.a.createElement(ie,null):r.a.createElement(oe,null))})),ue=n(403),me=n(390),de=Object(i.b)((function(e){return{loggedIn:e.user.loggedIn}}))((function(e){var t=e.loggedIn,n=Object(a.useState)(0),o=Object(J.a)(n,2),c=o[0],i=o[1];Object(a.useEffect)((function(){i(0)}),[t]);return r.a.createElement(ue.a,{variant:"fullWidth",value:c,indicatorColor:"primary",textColor:"primary",onChange:function(e,t){i(t)}},r.a.createElement(me.a,{label:"Cennik",component:l.b,to:ft.priceList}),r.a.createElement(me.a,{label:"Opinie",component:l.b,to:ft.rates}),t&&r.a.createElement(me.a,{label:"Rachunki",component:l.b,to:ft.receitps}),t&&r.a.createElement(me.a,{label:"Statystyki",component:l.b,to:ft.statistics}))})),pe=n(357),fe=n(396),Ee=n(397),be=n(393),ge=n(391),he=n(392),Oe=n(184),ye=n.n(Oe),ve=n(90),je=n.n(ve),we=n(89),Ce=n.n(we),Ne=function(e){var t=e.showDescription,n=e.setShowDescription;return t?r.a.createElement(Ce.a,{onClick:function(){return n(!1)}}):r.a.createElement(je.a,{onClick:function(){return n(!0)}})},Se=n(182),Pe=n.n(Se),Ie=n(181),Te=n.n(Ie),ke=Object(M.a)({headCell:{fontWeight:"bold",textAlign:"center"},bodyCell:{textAlign:"center"},positionCell:{display:"flex",alignItems:"center"},count:{display:"flex",justifyContent:"center",alignItems:"center",fontSize:"1.4rem"},deleteIcon:{color:d.palette.error.dark},editIcon:{color:d.palette.primary.dark},addButton:{color:"white",margin:"0.2rem"},buttonsContainer:{width:"fit-content",margin:"0 auto",display:"flex",justifyContent:"center",flexDirection:"column",padding:"1rem"},sumText:{fontWeight:"bold"},sum:{fontWeight:"bold",color:d.palette.primary.dark,fontSize:"1.2rem",textAlign:"center"},errorMessage:{color:d.palette.error.dark,textAlign:"center"}}),ze=Object(i.b)((function(e){return{positions:e.priceList.positions}}),{incrementPosition:function(e){return{type:"INCREMENT_POSITION",payload:e}},decrementPosition:function(e){return{type:"DECREMENT_POSITION",payload:e}},countSum:F})((function(e){var t=e.position,n=Object(H.a)(e,["position"]),a=ke();return r.a.createElement(ge.a,null,r.a.createElement("div",{className:a.count},r.a.createElement(he.a,{size:"small",onClick:function(){return function(e){n.decrementPosition(e),n.countSum()}(t)},color:"primary"},r.a.createElement(Te.a,null)),r.a.createElement(G.a,null,t.count),r.a.createElement(he.a,{size:"small",onClick:function(){return function(e){n.incrementPosition(e),n.countSum()}(t)},color:"primary"},r.a.createElement(Pe.a,null))))})),De=n(183),xe=n.n(De),Re=Object(i.b)(null,{deletePosition:function(e){return function(t){return R.delete("/api/Positions/".concat(e.id)).then((function(){t({type:"DELETE_POSITION",payload:e})})).catch((function(e){alert(e)}))}}})((function(e){var t=e.position,n=e.deletePosition,a=ke();return r.a.createElement(he.a,{onClick:function(){window.confirm("Czy na pewno chcesz usun\u0105\u0107 us\u0142ug\u0119 ".concat(t.name,"?"))&&n(t)},size:"small"},r.a.createElement(xe.a,{className:a.deleteIcon}))})),Le=Object(i.b)(null,{setEditing:W})((function(e){var t=e.position,n=e.editable,o=void 0!==n&&n,c=Object(H.a)(e,["position","editable"]),i=ke(),l=Object(a.useState)(!1),s=Object(J.a)(l,2),u=s[0],m=s[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a,null,r.a.createElement(ge.a,null,r.a.createElement("div",{className:i.positionCell},o&&r.a.createElement(r.a.Fragment,null,r.a.createElement(he.a,{onClick:function(){return c.setEditing(t,!0)},size:"small"},r.a.createElement(ye.a,{className:i.editIcon})),r.a.createElement(Re,{position:t})),r.a.createElement(Ne,{showDescription:u,setShowDescription:m}),r.a.createElement(G.a,null,t.name))),r.a.createElement(ge.a,{className:i.bodyCell},r.a.createElement(G.a,null,t.price," PLN")),r.a.createElement(ze,{position:t})),u&&r.a.createElement(be.a,null,r.a.createElement(ge.a,{colSpan:3},r.a.createElement(G.a,null,t.description))))})),Ae=n(394),Fe=function(){var e=ke();return r.a.createElement(Ae.a,null,r.a.createElement(be.a,null,r.a.createElement(ge.a,{className:e.headCell},"Us\u0142uga"),r.a.createElement(ge.a,{className:e.headCell},"Cena"),r.a.createElement(ge.a,{className:e.headCell},"Ilo\u015b\u0107")))},We=function(e){var t=e.sum,n=ke();return r.a.createElement(be.a,null,r.a.createElement(ge.a,{className:n.sumText},"\u0141\u0105czna cena:"),r.a.createElement(ge.a,null),r.a.createElement(ge.a,{className:n.sum},t," PLN"))},_e=n(185),Be=n.n(_e),He=$.object().shape({name:$.string().required("Prosz\u0119 wpisa\u0107 nazw\u0119 us\u0142ugi"),price:$.number().required("Prosz\u0119 wpisa\u0107 cen\u0119"),description:$.string().required("Prosz\u0119 wpisa\u0107 opis")});function Ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var Me=Object(i.b)(null,{updatePosition:function(e){return function(t){return R.put("/api/Positions/".concat(e.id),A({},e)).then((function(){t({type:"UPDATE_POSITION",payload:e})})).catch((function(e){alert(e)}))}},countSum:F,setEditing:W})((function(e){var t=e.position,n=Object(H.a)(e,["position"]),o=ke(),c=Object(a.useState)(t.name),i=Object(J.a)(c,2),l=i[0],s=i[1],u=Object(a.useState)(t.price),m=Object(J.a)(u,2),d=m[0],p=m[1],f=Object(a.useState)(t.description),E=Object(J.a)(f,2),g=E[0],h=E[1],O=Object(a.useState)(""),y=Object(J.a)(O,2),v=y[0],j=y[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a,null,r.a.createElement(ge.a,null,r.a.createElement("div",{className:o.positionCell},r.a.createElement(he.a,{onClick:function(){He.validate({name:l,price:d,description:g}).then((function(){l!==t.name||d!==t.price||g!==t.description?n.updatePosition(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ue(n,!0).forEach((function(t){Object(b.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ue(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},t,{name:l,price:d,description:g,editing:!1})).then((function(){return n.countSum()})):n.setEditing(t,!1)})).catch((function(e){return j(e.message)}))},size:"small"},r.a.createElement(Be.a,{className:o.editIcon})),r.a.createElement(Re,{position:t}),r.a.createElement(Q.a,{value:l,onChange:function(e){s(e.target.value)}}))),r.a.createElement(ge.a,{className:o.bodyCell},r.a.createElement(Q.a,{type:"number",value:d,onChange:function(e){p(e.target.value)}})),r.a.createElement(ze,{position:t})),r.a.createElement(be.a,null,r.a.createElement(ge.a,{colSpan:3},r.a.createElement(Q.a,{multiline:!0,fullWidth:!0,value:g,onChange:function(e){h(e.target.value)}}))),v?r.a.createElement(be.a,null,r.a.createElement(ge.a,{colSpan:3,className:o.errorMessage},r.a.createElement(G.a,null,v))):null)})),qe=n(395),Ge=n(186),Je=n.n(Ge),Ye=Object(i.b)(null,{createPosition:function(e){return function(t){return R.post("/api/Positions/",A({},e)).then((function(e){t({type:"CREATE_POSITION",payload:e.data})})).catch((function(e){alert(e)}))}}})((function(e){var t=e.hideAddPositionRow,n=e.createPosition,o=ke(),c=Object(a.useState)(""),i=Object(J.a)(c,2),l=i[0],s=i[1],u=Object(a.useState)(""),m=Object(J.a)(u,2),d=m[0],p=m[1],f=Object(a.useState)(""),E=Object(J.a)(f,2),b=E[0],g=E[1],h=Object(a.useState)(""),O=Object(J.a)(h,2),y=O[0],v=O[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a,null,r.a.createElement(ge.a,null,r.a.createElement(Q.a,{fullWidth:!0,placeholder:"Nazwa us\u0142ugi",value:l,onChange:function(e){s(e.target.value)}})),r.a.createElement(ge.a,{className:o.bodyCell},r.a.createElement(Q.a,{placeholder:"Cena",type:"number",value:d,onChange:function(e){p(e.target.value)}})),r.a.createElement(ge.a,null,r.a.createElement(qe.a,{variant:"extended",color:"secondary",className:o.addButton,onClick:function(){He.validate({name:l,price:d,description:b}).then((function(){n({name:l,price:d,description:b}),t()})).catch((function(e){return v(e.message)}))}},r.a.createElement(Je.a,null),"Dodaj"))),r.a.createElement(be.a,null,r.a.createElement(ge.a,{colSpan:3},r.a.createElement(Q.a,{placeholder:"Opis",multiline:!0,fullWidth:!0,value:b,onChange:function(e){g(e.target.value)}}))),y?r.a.createElement(be.a,null,r.a.createElement(ge.a,{colSpan:3,className:o.errorMessage},r.a.createElement(G.a,null,y))):null)})),Ze=function(e){var t=e.showAddPositionRow,n=e.setShowAddPositionRow,a=ke();return r.a.createElement(Y.a,{onClick:function(){n(!t)},variant:"contained",color:t?"default":"secondary",className:a.addButton},t?"Anuluj":"Dodaj us\u0142ug\u0119")},Ve=Object(i.b)((function(e){return{positions:e.priceList.positions,sum:e.priceList.sum}}),{createReceipt:function(e){return function(t){return x.a.post("/api/Receipts",e).then((function(){t(_()),alert('Pomy\u015blnie utworzono nowy rachunek. Mo\u017cesz zobaczy\u0107 go w zak\u0142adce "Rachunki".')})).catch((function(e){alert(e)}))}}})((function(e){var t=e.positions,n=e.sum,a=e.createReceipt,o=ke();return r.a.createElement("div",{className:o.addButtonContainer},r.a.createElement(Y.a,{onClick:function(){var e=function(){var e=[];return t.forEach((function(t){if(t.count>0)for(var n=0;n<t.count;n++)e.push(t.id)})),e.toString()}(),r=(new Date).toLocaleString();a({date:r,sum:n,positions:e})},variant:"contained",color:"primary",className:o.addButton,disabled:!n},"Wystaw rachunek"))})),$e=Object(i.b)((function(e){return{positions:e.priceList.positions,sum:e.priceList.sum,loggedIn:e.user.loggedIn}}))((function(e){var t=e.positions,n=e.sum,o=e.loggedIn,c=(Object(H.a)(e,["positions","sum","loggedIn"]),ke()),i=Object(a.useState)(!1),l=Object(J.a)(i,2),s=l[0],u=l[1];return r.a.createElement(pe.a,null,r.a.createElement(fe.a,null,r.a.createElement(Fe,null),r.a.createElement(Ee.a,null,t.map((function(e){return e.editing?r.a.createElement(Me,{position:e,key:e.id}):r.a.createElement(Le,{position:e,key:e.id,editable:o})})),r.a.createElement(We,{sum:n}),s&&r.a.createElement(Ye,{hideAddPositionRow:function(){return u(!1)}}))),o&&r.a.createElement("div",{className:c.buttonsContainer},r.a.createElement(Ze,{showAddPositionRow:s,setShowAddPositionRow:u}),r.a.createElement(Ve,null)))})),Ke=n(398),Qe=n(401),Xe=n(404),et=n(92),tt=n(93),nt=Object(M.a)({container:{display:"flex",flexDirection:"column",alignItems:"center"},button:{margin:"0.7rem 0.2rem 0.2rem"},addButton:{color:"white"},buttonsContainer:{display:"flex",justifyContent:"center",alignItems:"center"},rate:{margin:"0.5rem",backgroundColor:"rgba(86, 204, 242,0.1)",border:"1px solid #2D9CDB",borderRadius:"15px",padding:"0.7rem",width:"100%",maxWidth:"800px"},gradingField:{marginTop:"1rem",color:"grey"},email:{color:"#4F4F4F"},icon:{fontSize:"1rem",margin:"1px"}}),at=$.object().shape({email:$.string().email().required("Prosz\u0119 wpisa\u0107 email"),grade:$.number().min(0).max(5).required("Prosz\u0119 poda\u0107 ocen\u0119 od 0 do 5"),description:$.string().required("Prosz\u0119 wpisa\u0107 opini\u0119")}),rt=Object(i.b)(null,{addRate:function(e){return function(t){return x.a.post("/api/Rates",e).then((function(e){t({type:"ADD_RATE",payload:e.data})})).catch((function(e){alert(e)}))}}})((function(e){var t=e.addRate,n=e.hideForm,o=nt(),c=Object(a.useState)(""),i=Object(J.a)(c,2),l=i[0],s=i[1],u=Object(a.useState)(0),m=Object(J.a)(u,2),d=m[0],p=m[1],f=Object(a.useState)(""),E=Object(J.a)(f,2),b=E[0],g=E[1],h=Object(a.useState)(""),O=Object(J.a)(h,2),y=O[0],v=O[1],j=Object(a.useState)(!1),w=Object(J.a)(j,2),C=w[0],N=w[1];return r.a.createElement(pe.a,{className:o.rate},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),N(!0),at.validate({email:l,grade:d,description:b}).then((function(){t({email:l,grade:d,description:b}).then((function(){N(!1),n()}))})).catch((function(e){return v(e.message)}))}},r.a.createElement(Q.a,{label:"Email*",value:l,type:"email",onChange:function(e){s(e.target.value)}}),r.a.createElement(Qe.a,{className:o.gradingField},r.a.createElement(G.a,{variant:"body2"},"Ocena*"),r.a.createElement(Xe.a,{name:"rate",value:d,onChange:function(e,t){p(t)},icon:r.a.createElement(et.a,{icon:tt.a,className:o.icon})})),r.a.createElement(Q.a,{label:"Opinia*",value:b,type:"text",multiline:!0,fullWidth:!0,onChange:function(e){g(e.target.value)}}),y?r.a.createElement(G.a,{color:"error"},y):null,r.a.createElement("div",{className:o.buttonsContainer},r.a.createElement(Y.a,{type:"submit",color:"secondary",variant:"contained",className:"".concat(o.addButton," ").concat(o.button),disabled:C},"Zapisz"),r.a.createElement(Y.a,{variant:"contained",className:o.button,onClick:n},"Anuluj"))))})),ot=function(){var e=nt(),t=Object(a.useState)(!1),n=Object(J.a)(t,2),o=n[0],c=n[1];return o?r.a.createElement(rt,{hideForm:function(){return c(!1)}}):r.a.createElement(Y.a,{color:"secondary",variant:"contained",className:"".concat(e.addButton," ").concat(e.button),onClick:function(){return c(!0)}},"Dodaj swoj\u0105 opini\u0119")},ct=function(e){var t=e.rate,n=nt();return r.a.createElement(pe.a,{className:n.rate},r.a.createElement(G.a,{className:n.email},t.email),r.a.createElement(Xe.a,{precision:.5,value:t.grade,readOnly:!0,icon:r.a.createElement(et.a,{icon:tt.a,className:n.icon})}),r.a.createElement(G.a,null,t.description))},it=Object(i.b)((function(e){return{loggedIn:e.user.loggedIn,rates:e.rates}}))((function(e){var t=e.loggedIn,n=e.rates,a=nt();return r.a.createElement(Ke.a,{className:a.container},t||r.a.createElement(ot,null),n.map((function(e){return r.a.createElement(ct,{rate:e,key:e.id})})))})),lt=Object(M.a)({headCell:{fontWeight:"bold"},icon:{float:"left"},detailsCell:{paddingLeft:"2rem"}}),st=function(e){var t=e.positions,n=lt();return t.map((function(e,t){return r.a.createElement(be.a,{key:t},r.a.createElement(ge.a,{align:"left",className:n.detailsCell},e.name),r.a.createElement(ge.a,null),r.a.createElement(ge.a,{align:"center"},e.price," PLN"))}))},ut=function(e){var t=e.receipt,n=lt(),o=Object(a.useState)(!1),c=Object(J.a)(o,2),i=c[0],l=c[1];return r.a.createElement(r.a.Fragment,null,r.a.createElement(be.a,{onClick:function(){l(!i)}},r.a.createElement(ge.a,{align:"center"},i?r.a.createElement(Ce.a,{className:n.icon}):r.a.createElement(je.a,{className:n.icon}),t.id),r.a.createElement(ge.a,{align:"center"},t.date),r.a.createElement(ge.a,{align:"center"},t.sum," PLN")),i&&r.a.createElement(st,{positions:t.positions}))},mt=Object(i.b)((function(e){return{receipts:e.receipts}}))((function(e){var t=e.receipts,n=lt();return r.a.createElement(pe.a,null,r.a.createElement(fe.a,null,r.a.createElement(Ae.a,null,r.a.createElement(be.a,null,r.a.createElement(ge.a,{align:"center",className:n.headCell},"Numer rachunku"),r.a.createElement(ge.a,{align:"center",className:n.headCell},"Data"),r.a.createElement(ge.a,{align:"center",className:n.headCell},"Suma"))),r.a.createElement(Ee.a,null,t.map((function(e){return r.a.createElement(ut,{key:e.id,receipt:e})})))))})),dt=Object(M.a)({paper:{padding:"1rem",margin:"1rem"},weekHeader:{color:"#F2C94C"},mounthHeader:{color:"#F2994A"},yearHeader:{color:"#EB5757"}}),pt=Object(i.b)((function(e){return{statistics:e.statistics}}))((function(e){var t=e.statistics,n=dt();return r.a.createElement(Ke.a,null,r.a.createElement(pe.a,{className:n.paper},r.a.createElement(G.a,{variant:"h4",className:n.weekHeader},"Ostatni tydzie\u0144"),r.a.createElement(G.a,null,"Przychody: ",r.a.createElement("b",null,t.cashWeek," PLN")),r.a.createElement(G.a,null,"Najcz\u0119stszy zabieg: ",r.a.createElement("b",null,t.positionWeek))),r.a.createElement(pe.a,{className:n.paper},r.a.createElement(G.a,{variant:"h4",className:n.mounthHeader},"Ostatni miesi\u0105c"),r.a.createElement(G.a,null,"Przychody: ",r.a.createElement("b",null,t.cashMonth," PLN")),r.a.createElement(G.a,null,"Najcz\u0119stszy zabieg: ",r.a.createElement("b",null,t.positionMonth))),r.a.createElement(pe.a,{className:n.paper},r.a.createElement(G.a,{variant:"h4",className:n.yearHeader},"Ostatni rok"),r.a.createElement(G.a,null,"Przychody: ",r.a.createElement("b",null,t.cashYear," PLN")),r.a.createElement(G.a,null,"Najcz\u0119stszy zabieg: ",r.a.createElement("b",null,t.positionYear))))})),ft={empty:"/",priceList:"/cennik",rates:"/opinie",receitps:"/rachunki",statistics:"/statystyki"},Et=function(){return r.a.createElement(i.a,{store:z},r.a.createElement(l.a,{basename:"/Optident"},r.a.createElement(u.a,{theme:d},r.a.createElement(B,null),r.a.createElement(se,null),r.a.createElement(de,null),r.a.createElement(s.b,{path:ft.priceList,component:$e}),r.a.createElement(s.b,{path:ft.rates,component:it}),r.a.createElement(U,{path:ft.receitps,component:mt}),r.a.createElement(U,{path:ft.statistics,component:pt}),r.a.createElement(s.a,{path:ft.empty,to:ft.priceList}))))},bt=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function gt(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(Et,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/Optident",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/Optident","/service-worker.js");bt?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):gt(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):gt(t,e)}))}}()}},[[198,1,2]]]);
//# sourceMappingURL=main.156ab36c.chunk.js.map